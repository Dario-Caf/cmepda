\documentclass[9pt]{beamer}
\usetheme{cmepda}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\graphicspath{{figures/}} 


\title{OOP introduction (2/2)}
\subtitle{Computing Methods for Experimental Physics and Data Analysis}
\date{Compiled on \today}
\author{A. Manfreda}
\institute[INFN]{INFN--Pisa}
\email{alberto.manfreda@pi.infn.it}


\begin{document}


\titleframe


\begin{frame}
  \frametitle{Duck typing}
  
  \centering
  \includegraphics[width=0.7\textwidth]{quack.png}  
  
  \bigskip
  
  \centering
  "If it looks like a duck and quacks like a duck, it must be a duck."
  
\end{frame}


\begin{frame}
  \frametitle{Duck typing}
  \input{pygments/duck_typing}
\end{frame}


\begin{frame}
  \frametitle{Polymorphism}
  
  \begin{itemize}
    \item Reuse the same code for different things
    \medskip
    \item In statically typed languages this is tipically done with inheritance,
          e.g. we make Duck and Goose inherits from a base class QuackingBird()
          or something like that
    \medskip
    \item Python is dynamical, so we can use duck typing for that.
          We just need to implment the quack() method for both Ducks() and Goose() 
          and we are done
    \medskip
    \item In other words we obtain polymorphism just by satsisfying the required \alert{interface}
          (in this case the quack() function)
  \end{itemize}
  
\end{frame}


\begin{frame}
  \frametitle{The vector problem}
  
  \begin{itemize}
    \item Suppose we want to create a class for managing 2D vectors
    \bigskip
    \item Let's start coding some usesful methods
  \end{itemize}
  
\end{frame}


\begin{frame}
  \frametitle{Meet the Vector2d class}
  \framesubtitle{Naive version}
  \input{pygments/vector2d_1}
\end{frame}


\begin{frame}
  \frametitle{The vector problem}
  
  \begin{itemize}
    \item This kind of works but\dots... isn't that ugly?
    \medskip
    \item Look at the lines \emph{v.nice\_print()} or \emph{v.module().}
          It would be far more readible to just do \emph{print(v)} and \emph{abs(v)}
    \medskip
    \item And what about \emph{t = v.add(z)}? Why not \emph{t = v + z}?
    \medskip
    \item In Python there is a tool that allows you to do just that: \alert{special methods}
    \medskip
    \item Last lesson we saw that special methods (or dunder methods) are
          methods like \emph{\_\_init\_\_()} and got a special treatment 
          by the Python interpeter
    \medskip
    \item Let's see how they work
  \end{itemize}
  
\end{frame}

  
\begin{frame}
  \frametitle{Vector2d}
  \framesubtitle{A first look at special methods}
  \input{pygments/vector2d_2}
\end{frame}


\begin{frame}
  \frametitle{More on special methods}
  
  \begin{itemize}
    \item And what about \emph{print()}?
    \item There are actually two special methods used for that: \emph{\_\_str\_\_()} and \emph{\_\_repr\_\_()}
    \medskip
    \item \emph{\_\_str\_\_()} is meant to return a concise string for the user; it is called with \emph{str()}
    \medskip
    \item \emph{\_\_repr\_\_()} is meant to return a richer output for debug. It is called with \emph{repr()}
    \medskip
    \item \emph{print()} automatically tries to get a string out of the object using \emph{str()}. If there is
          no \emph{\_\_str\_\_} method, it search for \emph{\_\_repr\_\_()}. A defealut \emph{\_\_repr\_\_()}
          is automatically created for you, if you haven't defined one 
  \end{itemize}
  
\end{frame}


\begin{frame}
  \frametitle{Vector2d}
  \framesubtitle{\emph{\_\_str\_\_} and \emph{\_\_repr\_\_}}
  \input{pygments/vector2d_3}
\end{frame}


\end{document}
